const unpackBitmap=function(){const t="0123456789-".split("");return e=>{const r=e.s,n=e.w,l=e.h,s=new OffscreenCanvas(e.s*e.w,e.s*e.h),f=s.getContext("2d");f.clearRect(0,0,r*n,r*l);const a={" ":"rgba(0,0,0,0)"},o=Array(l).fill().map((t=>Array(n).fill(!1)));for(let r=e.p,n=r.length,l=0,s="";l<n;l++){for(;t.includes(r[l]);)s+=r[l],l++;a[r[l]]=`rgba(${(s=parseInt(s,10))>>>16&255},${s>>>8&255},${255&s},${s>>>24&255}`,s=""}for(let l,s,c=e.m,i=c.length,p=0,u=["",""],g=0,h=0,$=0;p<i;p++){for(;t.includes(c[p]);)"-"===c[p]&&(g++,p++),u[g]+=c[p],p++;for(f.fillStyle=a[c[p]],l=parseInt(u[0],10)||1,s=parseInt(u[1],10)||1;o[$][h];)h++,h===n&&(h=0,$++);f.fillRect(h*r,$*r,l*r,s*r);for(let t=$,e=$+s;t<e;t++)for(let e=h,r=h+l;e<r;e++)o[t][e]=!0;g=0,u[0]="",u[1]=""}return s}}();
